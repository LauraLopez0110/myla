<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{layout/layout :: head}"></head>

<body class="bg-white flex flex-col justify-center items-center h-screen w-screen">

<div class="relative bg-black p-10 rounded-xl w-3/5 h-[80vh] flex flex-col gap-4 text-white overflow-y-auto mt-10">
    <a th:href="@{/}" class="text-white text-justify font-semibold hover:text-lg transition-all"> &#8592; Back</a>
    <header class="text-3xl">
        <h1>[[${title}]]</h1>
    </header>
    <div>
        <form th:action="@{/register}" th:object="${usuario}" method="post" class="flex flex-col gap-4">
            <div class="flex flex-col gap-4 text-start">
                <label for="nombresUsuario" class="text-lg">Nombres</label>
                <input type="text"
                       class="bg-transparent py-2 outline-none border-2 border-pink-500 rounded-lg text-white placeholder-gray-400 focus:border-pink-700 focus:outline-none transition-all"
                       id="nombresUsuario" placeholder="Ejemplo: Karoll Catalina Amaya Casallas" name="nombresUsuario"
                       th:field="*{nombresUsuario}" required minlength="2" maxlength="50" pattern="[A-Za-zÀ-ÿ\s]+" title="Solo se permiten letras y espacios">
                <small id="nombreshelp" class="text-sm text-gray-400">Nunca compartiremos tu información con nadie.</small>
            </div>
            <div class="flex flex-col gap-4 text-start">
                <label for="apellidosUsuario" class="text-lg">Apellidos</label>
                <input type="text" class="bg-transparent py-2 outline-none border-2 border-pink-500 rounded-lg text-white placeholder-gray-400 focus:border-pink-700 focus:outline-none transition-all"
                       id="apellidosUsuario" placeholder="Ejemplo: Casallas" name="apellidosUsuario"
                       th:field="*{apellidosUsuario}" required minlength="2" maxlength="50" pattern="[A-Za-zÀ-ÿ\s]+" title="Solo se permiten letras y espacios">
                <small id="apellidoshelp" class="text-sm text-gray-400">Nunca compartiremos tu información con nadie.</small>
            </div>

            <div class="flex flex-col gap-4 text-start">
                <label for="rol" class="text-lg">Seleccione su rol</label>
                <select name="rol" id="rol"
                        class="bg-transparent py-2 outline-none border-2 border-pink-500 rounded-lg text-white focus:border-pink-700 focus:outline-none transition-all">
                    <option class="text-black text-sm" value="ROLE_CLIENTE">Cliente</option>
                    <option class="text-black text-sm" value="ROLE_ADMINISTRADOR">Administrador</option>
                </select>
            </div>
            <div class="flex flex-col gap-4 text-start">
                <label for="correoUsuario" class="text-lg">Correo electrónico</label>
                <input type="email"
                       class="bg-transparent py-2 outline-none border-2 border-pink-500 rounded-lg text-white placeholder-gray-400 focus:border-pink-700 focus:outline-none transition-all"
                       id="correoUsuario" aria-describedby="emailHelp" placeholder="Ejemplo: karoll.amaya@gmail.com"
                       name="correoUsuario" th:field="*{correoUsuario}" required>
                <small id="emailHelp" class="text-sm text-gray-400">Nunca compartiremos tu información con nadie.</small>
            </div>
            <div class="flex flex-col gap-4 text-start">
                <label for="direccionUsuario" class="text-lg">Dirección Usuario</label>
                <input type="text"
                       class="bg-transparent py-2 outline-none border-2 border-pink-500 rounded-lg text-white placeholder-gray-400 focus:border-pink-700 focus:outline-none transition-all"
                       id="direccionUsuario" placeholder="Ejemplo: Duitama, Cr9#9B-90"
                       name="direccionUsuario" th:field="*{direccionUsuario}" required maxlength="50">
                <small class="text-sm text-gray-400">Nunca compartiremos tu información con nadie.</small>
            </div>
            <!-- Cierre del div de Dirección -->

            <div class="flex flex-col gap-4 text-start">
                <label for="telefonoUsuario" class="text-lg">Teléfono Usuario</label>
                <input type="tel"
                       class="bg-transparent py-2 outline-none border-2 border-pink-500 rounded-lg text-white placeholder-gray-400 focus:border-pink-700 focus:outline-none transition-all"
                       id="telefonoUsuario" placeholder="3233378754"
                       name="telefonoUsuario" th:field="*{telefonoUsuario}" required minlength="10" maxlength="10" pattern="[0-9]+" title="Solo se permiten números">
                <small class="text-sm text-gray-400">Nunca compartiremos tu información con nadie.</small>
            </div>
            <!-- Cierre del div de Teléfono -->

            <div class="flex flex-col gap-4 text-start">
                <label for="claveUsuario" class="text-lg">Contraseña</label>
                <input type="password"
                       class="bg-transparent py-2 outline-none border-2 border-pink-500 rounded-lg text-white placeholder-gray-400 focus:border-pink-700 focus:outline-none transition-all"
                       id="claveUsuario" placeholder="Introduce tu contraseña" name="claveUsuario"
                       th:field="*{claveUsuario}" required minlength="8">
                <small id="passwordHelp" class="text-sm text-gray-400">Nunca compartiremos tu información con nadie.</small>
            </div>

            <div class="flex flex-col gap-4 text-start">
                <label for="confirmarClaveUsuario" class="text-lg">Confirmar Contraseña</label>
                <input type="password"
                       class="bg-transparent py-2 outline-none border-2 border-pink-500 rounded-lg text-white placeholder-gray-400 focus:border-pink-700 focus:outline-none transition-all"
                       id="confirmarClaveUsuario" placeholder="Confirma tu contraseña" name="confirmarClaveUsuario"
                       required minlength="8">
                <small id="confirmPasswordHelp" class="text-sm text-gray-400">Asegúrate de que las contraseñas coincidan.</small>
            </div>

            <div class="text-gray-400 text-sm">
                <span>¿Ya tienes cuenta? <a th:href="@{/login}" class="hover:text-pink-500 hover:underline transition-all">INICIA SESIÓN AQUÍ</a></span>
            </div>

            <button type="submit" class="bg-gradient-to-r from-pink-500 to-fuchsia-500 py-3 px-4 rounded hover:opacity-90 transition-all font-bold text-lg text-white">
                REGISTRARSE
            </button>
        </form>
    </div>
</div>
</body>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.querySelector('form');
        const password = document.getElementById('claveUsuario');
        const confirmPassword = document.getElementById('confirmarClaveUsuario');

        form.addEventListener('submit', function(event) {
            if (password.value !== confirmPassword.value) {
                event.preventDefault(); // Evita el envío del formulario
                alert('Las contraseñas no coinciden');
            }
        });
    });
</script>
</html>
